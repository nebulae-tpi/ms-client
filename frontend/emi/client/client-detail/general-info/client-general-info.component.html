<div class="tab-content p-24" fxLayout="column" fusePerfectScrollbar>

    <form name="clientGeneralInfoForm" [formGroup]="clientGeneralInfoForm" fxLayout="row wrap" class="mat-white-bg p-24 mr-24 mb-24">

      <div fxFlex="100" fxLayout.gt-xs="row" fxLayout="column" fxLayoutAlign.gt-xs="space-around start" fxLayoutAlign="center start">
          <div fxFlex.gt-xs="100" fxFlex="100" class="h2">{{'CLIENT.DETAILS.GENERAL_INFO.TITLE' | translate}}</div>
          <form *ngIf="clientStateForm" fxFlex="50" fxFlex.gt-xs="50" name="clientStateForm" [formGroup]="clientStateForm" fxLayoutAlign="end center">
              <mat-slide-toggle formControlName="state" color="accent" (change)="onClientStateChange($event)">
                  <label *ngIf="clientStateForm.controls['state'].value">{{'CLIENT.DETAILS.ENABLED' | translate}}</label>
                  <label *ngIf="!clientStateForm.controls['state'].value">{{'CLIENT.DETAILS.DISABLED' | translate}}</label>
              </mat-slide-toggle>
          </form>
      </div>

      <mat-form-field fxFlex.gt-xs="50" fxFlex="100" fxLayout="column" class="pr-8 pl-8">
        <input matInput name="name" formControlName="name" maxlength="30" placeholder="{{'CLIENT.DETAILS.GENERAL_INFO.NAME' | translate}}">
        <mat-error *ngIf="clientGeneralInfoForm.hasError('required', ['name'])">
          {{'CLIENT.NAME_REQUIRED' | translate}}
        </mat-error>
      </mat-form-field>

      <mat-form-field fxFlex.gt-xs="50" fxFlex="100" fxLayout="column" class="pr-8 pl-8">
        <input matInput type="number" name="phone" formControlName="phone" maxlength="15" placeholder="{{'CLIENT.DETAILS.GENERAL_INFO.PHONE' | translate}}">
        <mat-error *ngIf="clientGeneralInfoForm.hasError('required', ['phone'])">
          {{'CLIENT.PHONE_REQUIRED' | translate}}
        </mat-error>
      </mat-form-field>

      <mat-form-field fxFlex.gt-xs="50" fxFlex="100" fxLayout="column" class="pr-8 pl-8">
        <input matInput name="addressLine1" formControlName="addressLine1" maxlength="30" placeholder="{{'CLIENT.DETAILS.GENERAL_INFO.ADDRESS_LINE1' | translate}}">
        <mat-error *ngIf="clientGeneralInfoForm.hasError('required', ['addressLine1'])">
          {{'CLIENT.ADDRESS_REQUIRED' | translate}}
        </mat-error>
      </mat-form-field>

      <mat-form-field fxFlex.gt-xs="50" fxFlex="100" fxLayout="column" class="pr-8 pl-8">
        <input matInput name="addressLine2" formControlName="addressLine2" maxlength="30" placeholder="{{'CLIENT.DETAILS.GENERAL_INFO.ADDRESS_LINE2' | translate}}">
      </mat-form-field>

      <mat-form-field fxFlex.gt-xs="50" fxFlex="100" fxLayout="column" class="pr-8 pl-8">
        <input matInput name="city" formControlName="city" maxlength="15" placeholder="{{'CLIENT.DETAILS.GENERAL_INFO.CITY' | translate}}">
        <mat-error *ngIf="clientGeneralInfoForm.hasError('required', ['city'])">
          {{'CLIENT.CITY_REQUIRED' | translate}}
        </mat-error>
      </mat-form-field>

      <mat-form-field fxFlex.gt-xs="50" fxFlex="100" fxLayout="column" class="pr-8 pl-8">
        <input matInput name="neighborhood" formControlName="neighborhood" maxlength="15" placeholder="{{'CLIENT.DETAILS.GENERAL_INFO.NEIGHBORHOOD' | translate}}">
        <mat-error *ngIf="clientGeneralInfoForm.hasError('required', ['neighborhood'])">
          {{'CLIENT.NEIGHBORHOOD_REQUIRED' | translate}}
        </mat-error>
      </mat-form-field>

      <mat-form-field fxFlex.gt-xs="50" fxFlex="100" fxLayout="column" class="pr-8 pl-8">
        <input matInput name="zone" formControlName="zone" maxlength="15" placeholder="{{'CLIENT.DETAILS.GENERAL_INFO.ZONE' | translate}}">
        <mat-error *ngIf="clientGeneralInfoForm.hasError('required', ['zone'])">
          {{'CLIENT.ZONE_REQUIRED' | translate}}
        </mat-error>
      </mat-form-field>

      <mat-form-field fxFlex.gt-xs="50" fxFlex="100" fxLayout="column" class="pr-8 pl-8">
        <input matInput name="notes" formControlName="notes" maxlength="50" placeholder="{{'CLIENT.DETAILS.GENERAL_INFO.NOTES' | translate}}">
        <mat-error *ngIf="clientGeneralInfoForm.hasError('required', ['notes'])">
          {{'CLIENT.ZONE_REQUIRED' | translate}}
        </mat-error>
      </mat-form-field>

      <mat-form-field fxFlex.gt-xs="50" fxFlex="100" fxLayout="column" class="pr-8 pl-8">
        <input matInput name="email" formControlName="email" maxlength="40" placeholder="{{'CLIENT.DETAILS.GENERAL_INFO.EMAIL' | translate}}">
        <mat-error *ngIf="clientGeneralInfoForm.hasError('required', ['email'])">
          {{'CLIENT.EMAIL_REQUIRED' | translate}}
        </mat-error>
        <mat-error *ngIf="clientGeneralInfoForm.hasError('email', ['email'])">
          {{'CLIENT.EMAIL_FORMAT' | translate}}
        </mat-error>
      </mat-form-field>

      <div fxFlex="100" class="mt-16">
        <button mat-raised-button *ngIf="pageType === 'new'" (click)="createClient()"
          [disabled]="clientGeneralInfoForm.invalid || clientGeneralInfoForm.pristine">
          {{'CLIENT.CREATE' | translate}}
        </button>
        <button mat-raised-button *ngIf="pageType === 'edit'" (click)="updateClientGeneralInfo()"
          [disabled]="clientGeneralInfoForm.invalid || clientGeneralInfoForm.pristine">
          {{'CLIENT.UPDATE' | translate}}
        </button>
      </div>

    </form>

</div>
